{
    "$id": "schemas/orders.json",
    "order": {
        "type": "array",
        "properties": {
            "id": { "type": "string", "minLength": 1 },
            "date": { "type": "string" },
            "total": { "type": "number" },
            "article_count": { "type": "number", "format": "int64" },
            "status": { "type": "string" },
            "products": { "type": "object" }, // Come facciamo con i riferimenti? Mettiamo che è un object generico fidandoci che verranno messi effettivamente i prodotti nel formato corretto?
            "shipping_address": { "type": "object" }, // Come facciamo con i riferimenti? Mettiamo che è un object generico fidandoci che verrà messo effettivamente un indirizzo nel formato corretto?
            "billing_address": { "type": "object" } // Come facciamo con i riferimenti? Mettiamo che è un object generico fidandoci che verrà messo effettivamente un indirizzo nel formato corretto?
        }
    },
    "orders": { 
        "type": "array",
        "items": { "$ref": "#/order" },
        "uniqueItems": true
    },
    "responseOrder": {
        "allOf" : [
            { "$ref": "../schemas/response.json#/response" },
            {
                "properties": {
                    "data": { "$ref": "#/order" }
                }
            }
        ]
    },
    "responseOrders": {
        "allOf" : [
            { "$ref": "../schemas/response.json#/response" },
            {
                "properties": {
                    "data": { "$ref": "#/orders" }
                }
            }
        ]
    }
}